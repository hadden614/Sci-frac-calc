<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Scientific Fraction Calc</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="title">Scientific Calc</div>
      <div class="badges">
        <span id="angleBadge" class="badge">DEG</span>
        <span id="fracBadge" class="badge">FRAC OFF</span>
        <span id="tradeBadge" class="badge">TRADE OFF</span>
      </div>
    </div>
    <button id="settingsBtn" class="iconbtn" aria-label="Settings">⚙️</button>
  </header>

  <main class="app">
    <section class="display">
      <div id="exprLine" class="expr"></div>
      <div id="resultLine" class="result">0</div>
      <div id="auxLine" class="aux"></div>
    </section>

    <section class="panel">
      <div class="row5">
        <button class="btn secondary" data-action="mc">MC</button>
        <button class="btn secondary" data-action="mr">MR</button>
        <button class="btn secondary" data-action="mplus">M+</button>
        <button class="btn secondary" data-action="mminus">M-</button>
        <button class="btn secondary" data-action="back">⌫</button>
      </div>

      <div class="row4">
        <button class="btn danger" data-action="ac">AC</button>
        <button class="btn secondary" data-action="ce">CE</button>
        <button class="btn secondary" data-action="degRad">DEG/RAD</button>
        <button class="btn secondary" data-action="fracBtn">FRAC</button>
      </div>

      <div class="grid" aria-label="Keypad">
        <button class="btn secondary" data-insert="sin(">sin</button>
        <button class="btn secondary" data-insert="cos(">cos</button>
        <button class="btn secondary" data-insert="tan(">tan</button>
        <button class="btn secondary" data-insert="log(">log</button>

        <button class="btn secondary" data-insert="ln(">ln</button>
        <button class="btn secondary" data-insert="sqrt(">√</button>
        <button class="btn secondary" data-insert="sqr(">x²</button>
        <button class="btn secondary" data-insert="^">xʸ</button>

        <button class="btn secondary" data-insert="π">π</button>
        <button class="btn secondary" data-insert="e">e</button>
        <button class="btn secondary" data-insert="(">(</button>
        <button class="btn secondary" data-insert=")">)</button>

        <button class="btn" data-insert="7">7</button>
        <button class="btn" data-insert="8">8</button>
        <button class="btn" data-insert="9">9</button>
        <button class="btn op" data-insert="÷">÷</button>

        <button class="btn" data-insert="4">4</button>
        <button class="btn" data-insert="5">5</button>
        <button class="btn" data-insert="6">6</button>
        <button class="btn op" data-insert="×">×</button>

        <button class="btn" data-insert="1">1</button>
        <button class="btn" data-insert="2">2</button>
        <button class="btn" data-insert="3">3</button>
        <button class="btn op" data-insert="-">-</button>

        <button class="btn" data-insert="0">0</button>
        <button class="btn" data-insert=".">.</button>
        <button class="btn" data-insert="%">%</button>
        <button class="btn op" data-insert="+">+</button>

        <button class="btn wide" data-action="equals">=</button>
      </div>
    </section>

    <section class="history">
      <div class="historyHead">
        <div>History (20)</div>
        <button id="clearHistoryBtn" class="textbtn" type="button">Clear</button>
      </div>
      <ul id="historyList" class="historyList"></ul>
    </section>
  </main>

  <aside id="drawer" class="drawer" aria-hidden="true">
    <div class="drawerTop">
      <div class="drawerTitle">Settings</div>
      <button id="closeDrawerBtn" class="iconbtn" aria-label="Close">✕</button>
    </div>

    <div class="drawerBody">
      <div class="setting">
        <div class="labelRow">
          <span>Angle</span>
          <button id="anglePill" class="pill" type="button">DEG</button>
        </div>
      </div>

      <div class="setting">
        <div class="labelRow">
          <span>Fraction Mode</span>
          <input id="fractionMode" type="checkbox" />
        </div>

        <div class="subsetting">
          <label>Max Denominator
            <select id="maxDenom">
              <option>2</option><option>4</option><option>8</option><option selected>16</option>
              <option>32</option><option>64</option><option>128</option>
            </select>
          </label>
        </div>

        <div class="subsetting">
          <div class="labelRow">
            <span>Accept “1-3/8”</span>
            <input id="hyphenMixed" type="checkbox" />
          </div>
        </div>
      </div>

      <div class="setting">
        <div class="labelRow">
          <span>Trade Rounding</span>
          <input id="tradeMode" type="checkbox" />
        </div>
        <div class="subsetting">
          <label>Step
            <select id="tradeStep">
              <option value="2">1/2</option>
              <option value="4">1/4</option>
              <option value="8">1/8</option>
              <option value="16" selected>1/16</option>
              <option value="32">1/32</option>
            </select>
          </label>
        </div>
      </div>

      <div class="setting">
        <label>Decimal Precision (2–10)
          <input id="precision" type="range" min="2" max="10" value="6" />
          <div class="hint"><span id="precisionVal">6</span> digits</div>
        </label>
      </div>

      <div class="setting">
        <div class="hint">
          Keyboard: digits, + - * / ( ) ^, Enter (=), Backspace, Esc (AC), Delete (CE).
        </div>
      </div>
    </div>
  </aside>

  <div id="scrim" class="scrim" hidden></div>
  <script src="app.js"></script>
</body>
</html>
